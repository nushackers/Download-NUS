<table class="table table-striped">
    <tr>
        <th class="col-lg-1 col-sm-1">
            #
        </th>
        <th class="col-lg-4 col-sm-4">
            Description
        </th>
        <th class="col-lg-1 col-sm-1">
            Download
        </th>
        <th class="col-lg-1 col-sm-1">
            Category
        </th>
        <th class="col-lg-2 col-sm-2">
            Uploader
        </th>
        <th class="col-lg-2 col-sm-2">
            Date
        </th>
        <th class="col-lg-1 col-sm-1">
            Manage
        </th>
    </tr>
    <% datasets.forEach(function(data, ind){ %>
    <tr>
        <td><%= ind + 1 %></td>
        <td>
            <p><strong><%= data.name %></strong></p>
            <p><%= data.description %></p>
        </td>
        <td>
            <% data.dataFiles.forEach(function(file){ %>
                <a href="repo/<%= file.filepath %>" class="btn btn-sm btn-primary" style="text-transform:uppercase;"><%= file.extension %></a>
            <% }) %>
        </td>
        <td><%= data.dataCategory.name %></td>
        <td><%= data.user.name %></td>
        <td><%= data.formatedUpdatedAt %></td>
        <td>
            <% if (data.user.nusId === (user && user.nusId)) { %>
                <button type="button" class="btn btn-default btn-sm btn-primary">
                    <span class="glyphicon glyphicon-pencil"></span>
                </button>
                <button type="button" class="btn btn-default btn-sm btn-danger">
                    <span class="glyphicon glyphicon-remove"></span>
                </button>
            <% } %>
        </td>
    </tr>
    <% }) %>
</table>
<% if (!datasets.length) { %>
    <p class="text-center">There is nothing here</p>
<% } %>
<% if (page) { %>
    <div class="text-center">
        <ul class="pagination">
            <% if (page > 1) { %>
                <li><a href="?page<%= page-1 %>">&laquo;</a></li>
            <% } else { %>
                <li class="disabled"><a>&laquo;</a></li>
            <% } %>
            <% for (var i=1; i<=pages; i++) { %>
                <% if (i == page) { %>
                    <li class="active"><a href="?page=<%= i %>"><%= i %></a></li>
                <% } else { %>
                    <li><a href="?page=<%= i %>"><%= i %></a></li>
                <% } %>    
            <% } %>
            <% if (page < pages) { %>
                <li><a href="?page<%= page+1 %>">&raquo;</a></li>
            <% } else { %>
                <li class="disabled"><a>&raquo;</a></li>
            <% } %>
        </ul>
    </div>
<% } %>
